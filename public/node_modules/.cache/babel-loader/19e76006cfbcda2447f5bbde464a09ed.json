{"ast":null,"code":"import{useEffect}from\"react\";import{Button,Col,Container,Form,Row}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import{useHistory,useParams}from\"react-router\";import Title from\"../../components/Title\";import{defaultUserValues}from\"../../redux/actions/userSelect.actions\";import{changeUserName,changeLastName,changeEmail,changePuesto,usuarioId,actualizarUsuario,guardarUsuario}from\"../../redux/actions/usuarios.actions\";import FormLogin from\"../Login/components/FormLogin\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ancho_col='6';var NuevoUsuario=function NuevoUsuario(){var _useParams=useParams(),idUser=_useParams.idUser;var history=useHistory();// const { token='NA' } = useSelector((state: any) => state.sesion);\nvar dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.usurioSeleccionado;}),_useSelector$name=_useSelector.name,name=_useSelector$name===void 0?'':_useSelector$name,_useSelector$lastName=_useSelector.lastName,lastName=_useSelector$lastName===void 0?'':_useSelector$lastName,_useSelector$email=_useSelector.email,email=_useSelector$email===void 0?'':_useSelector$email,_useSelector$puesto=_useSelector.puesto,puesto=_useSelector$puesto===void 0?'':_useSelector$puesto;var _initial=function _initial(){dispatch(defaultUserValues());idUser&&dispatch(usuarioId(idUser));};useEffect(_initial,[idUser]);var handleSave=function handleSave(e){e.preventDefault();console.log(name,lastName,email,puesto);var resp={name:name,lastname:lastName,email:email,puesto:puesto};dispatch(idUser?actualizarUsuario(idUser,resp,history.goBack):guardarUsuario(resp,history.goBack));};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Title,{name:\"\".concat(idUser?'Editar':'Crear',\":\")}),/*#__PURE__*/_jsx(Form,{onSubmit:handleSave,children:/*#__PURE__*/_jsxs(Row,{sm:\"12\",children:[/*#__PURE__*/_jsx(Col,{sm:ancho_col,children:/*#__PURE__*/_jsx(FormLogin,{title:\"Nombre(s)\",required:true,minLength:4,type:\"text\",name:\"nombre\",placeholder:\"Nombre(s)...\"// size=\"sm\"\n,value:name,onChange:function onChange(e){return dispatch(changeUserName(e.target.value));}})}),/*#__PURE__*/_jsx(Col,{sm:ancho_col,children:/*#__PURE__*/_jsx(FormLogin,{title:\"Apeidos\",required:true,minLength:4,type:\"text\",name:\"apP\",placeholder:\"Apeidos...\",value:lastName// size=\"sm\"\n,onChange:function onChange(e){return dispatch(changeLastName(e.target.value));}})}),/*#__PURE__*/_jsx(Col,{sm:ancho_col,children:/*#__PURE__*/_jsx(FormLogin,{title:\"Correo\",required:true,minLength:8,type:\"email\",name:\"user\",placeholder:\"usuario@dominio.abc\",value:email// size=\"sm\"\n,onChange:function onChange(e){return dispatch(changeEmail(e.target.value));}})}),/*#__PURE__*/_jsx(Col,{sm:ancho_col,children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Puesto\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",value:puesto,required:true,onChange:function onChange(e){return dispatch(changePuesto(e.target.value));},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\" -- \"}),/*#__PURE__*/_jsx(\"option\",{children:\"Administrador\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Direccion\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Finanzas\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Recursos humanos\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Produccion\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Ventas\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Operaciones\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Logistica\"})]})]})}),/*#__PURE__*/_jsx(Col,{xs:ancho_col,children:/*#__PURE__*/_jsx(Button,{variant:\"light\",block:true,onClick:history.goBack,type:\"reset\",children:\" cancelar\"})}),/*#__PURE__*/_jsx(Col,{xs:ancho_col,children:/*#__PURE__*/_jsxs(Button,{block:true,type:\"submit\",children:[\" \",idUser?'ACTUALIZAR':'GUARDAR']})})]})})]});};export default NuevoUsuario;","map":{"version":3,"sources":["/home/gael/development/base-back-end/frontend/src/pages/Usuarios/usuarioEdicion.tsx"],"names":["useEffect","Button","Col","Container","Form","Row","useDispatch","useSelector","useHistory","useParams","Title","defaultUserValues","changeUserName","changeLastName","changeEmail","changePuesto","usuarioId","actualizarUsuario","guardarUsuario","FormLogin","ancho_col","NuevoUsuario","idUser","history","dispatch","state","usurioSeleccionado","name","lastName","email","puesto","_initial","handleSave","e","preventDefault","console","log","resp","lastname","goBack","target","value"],"mappings":"AAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,MAAT,CAAiBC,GAAjB,CAAsBC,SAAtB,CAAiCC,IAAjC,CAAuCC,GAAvC,KAAkD,iBAAlD,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,CAAqBC,SAArB,KAAsC,cAAtC,CACA,MAAOC,CAAAA,KAAP,KAAkB,wBAAlB,CACA,OAASC,iBAAT,KAAkC,wCAAlC,CACA,OAASC,cAAT,CAAyBC,cAAzB,CAAyCC,WAAzC,CAAsDC,YAAtD,CAAoEC,SAApE,CAA+EC,iBAA/E,CAAkGC,cAAlG,KAAwH,sCAAxH,CAEA,MAAOC,CAAAA,SAAP,KAAsB,+BAAtB,C,wFAGA,GAAMC,CAAAA,SAAS,CAAG,GAAlB,CACA,GAAMC,CAAAA,YAAsB,CAAG,QAAzBA,CAAAA,YAAyB,EAAM,gBACdZ,SAAS,EADK,CACzBa,MADyB,YACzBA,MADyB,CAEjC,GAAMC,CAAAA,OAAO,CAAGf,UAAU,EAA1B,CACA;AACA,GAAMgB,CAAAA,QAAQ,CAAGlB,WAAW,EAA5B,CAJiC,iBAUhBC,WAAW,CAAC,SAACkB,KAAD,QAAgBA,CAAAA,KAAK,CAACC,kBAAtB,EAAD,CAVK,gCAM7BC,IAN6B,CAM7BA,IAN6B,4BAMvB,EANuB,sDAO7BC,QAP6B,CAO7BA,QAP6B,gCAOnB,EAPmB,uDAQ7BC,KAR6B,CAQ7BA,KAR6B,6BAQtB,EARsB,qDAS7BC,MAT6B,CAS7BA,MAT6B,8BAStB,EATsB,qBAYjC,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnBP,QAAQ,CAACb,iBAAiB,EAAlB,CAAR,CACAW,MAAM,EAAIE,QAAQ,CAACR,SAAS,CAACM,MAAD,CAAV,CAAlB,CAEH,CAJD,CAKAtB,SAAS,CAAC+B,QAAD,CAAW,CAACT,MAAD,CAAX,CAAT,CAEA,GAAMU,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,CAAD,CAAY,CAC3BA,CAAC,CAACC,cAAF,GACAC,OAAO,CAACC,GAAR,CACAT,IADA,CAEAC,QAFA,CAGAC,KAHA,CAIAC,MAJA,EAMA,GAAMO,CAAAA,IAAI,CAAG,CACTV,IAAI,CAAJA,IADS,CAETW,QAAQ,CAACV,QAFA,CAGTC,KAAK,CAALA,KAHS,CAITC,MAAM,CAANA,MAJS,CAAb,CAMAN,QAAQ,CAACF,MAAM,CACXL,iBAAiB,CAACK,MAAD,CAASe,IAAT,CAAed,OAAO,CAACgB,MAAvB,CADN,CAEXrB,cAAc,CAACmB,IAAD,CAAOd,OAAO,CAACgB,MAAf,CAFV,CAAR,CAIH,CAlBD,CAoBA,mBAAO,MAAC,SAAD,yBACH,KAAC,KAAD,EAAO,IAAI,WAAKjB,MAAM,CAAE,QAAF,CAAY,OAAvB,KAAX,EADG,cAGH,KAAC,IAAD,EAAM,QAAQ,CAAEU,UAAhB,uBAEI,MAAC,GAAD,EAAK,EAAE,CAAC,IAAR,wBACI,KAAC,GAAD,EAAK,EAAE,CAAEZ,SAAT,uBACI,KAAC,SAAD,EACI,KAAK,CAAC,WADV,CAEI,QAAQ,CAAE,IAFd,CAGI,SAAS,CAAE,CAHf,CAII,IAAI,CAAC,MAJT,CAKI,IAAI,CAAC,QALT,CAMI,WAAW,CAAC,cACZ;AAPJ,CAQI,KAAK,CAAEO,IARX,CASI,QAAQ,CAAE,kBAACM,CAAD,QAAWT,CAAAA,QAAQ,CAACZ,cAAc,CAACqB,CAAC,CAACO,MAAF,CAASC,KAAV,CAAf,CAAnB,EATd,EADJ,EADJ,cAcI,KAAC,GAAD,EAAK,EAAE,CAAErB,SAAT,uBACI,KAAC,SAAD,EACI,KAAK,CAAC,SADV,CAEI,QAAQ,CAAE,IAFd,CAGI,SAAS,CAAE,CAHf,CAII,IAAI,CAAC,MAJT,CAKI,IAAI,CAAC,KALT,CAMI,WAAW,CAAC,YANhB,CAOI,KAAK,CAAEQ,QACP;AARJ,CASI,QAAQ,CAAE,kBAACK,CAAD,QAAWT,CAAAA,QAAQ,CAACX,cAAc,CAACoB,CAAC,CAACO,MAAF,CAASC,KAAV,CAAf,CAAnB,EATd,EADJ,EAdJ,cA4BI,KAAC,GAAD,EAAK,EAAE,CAAErB,SAAT,uBACI,KAAC,SAAD,EACI,KAAK,CAAC,QADV,CAEI,QAAQ,CAAE,IAFd,CAGI,SAAS,CAAE,CAHf,CAII,IAAI,CAAC,OAJT,CAKI,IAAI,CAAC,MALT,CAMI,WAAW,CAAC,qBANhB,CAOI,KAAK,CAAES,KACP;AARJ,CASI,QAAQ,CAAE,kBAACI,CAAD,QAAWT,CAAAA,QAAQ,CAACV,WAAW,CAACmB,CAAC,CAACO,MAAF,CAASC,KAAV,CAAZ,CAAnB,EATd,EADJ,EA5BJ,cAyCI,KAAC,GAAD,EAAK,EAAE,CAAErB,SAAT,uBACI,MAAC,IAAD,CAAM,KAAN,yBACI,KAAC,IAAD,CAAM,KAAN,qBADJ,cAEI,MAAC,IAAD,CAAM,OAAN,EACI,EAAE,CAAC,QADP,CAEI,KAAK,CAAEU,MAFX,CAGI,QAAQ,KAHZ,CAII,QAAQ,CAAE,kBAACG,CAAD,QAAWT,CAAAA,QAAQ,CAACT,YAAY,CAAEkB,CAAC,CAACO,MAAF,CAASC,KAAX,CAAb,CAAnB,EAJd,wBAMI,eAAQ,KAAK,CAAC,EAAd,kBANJ,cAOI,yCAPJ,cAQI,qCARJ,cASI,oCATJ,cAUI,4CAVJ,cAWI,sCAXJ,cAYI,kCAZJ,cAaI,uCAbJ,cAcI,qCAdJ,GAFJ,GADJ,EAzCJ,cA8DI,KAAC,GAAD,EAAK,EAAE,CAAErB,SAAT,uBACI,KAAC,MAAD,EAAS,OAAO,CAAC,OAAjB,CAAyB,KAAK,KAA9B,CAA+B,OAAO,CAAEG,OAAO,CAACgB,MAAhD,CAAwD,IAAI,CAAC,OAA7D,uBADJ,EA9DJ,cAiEI,KAAC,GAAD,EAAK,EAAE,CAAEnB,SAAT,uBACI,MAAC,MAAD,EAAQ,KAAK,KAAb,CAAc,IAAI,CAAC,QAAnB,eAA8BE,MAAM,CAAC,YAAD,CAAc,SAAlD,GADJ,EAjEJ,GAFJ,EAHG,GAAP,CA6EH,CApHD,CAsHA,cAAeD,CAAAA,YAAf","sourcesContent":["import { useEffect } from \"react\";\nimport { Button, Col, Container, Form, Row } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router\";\nimport Title from \"../../components/Title\";\nimport { defaultUserValues } from \"../../redux/actions/userSelect.actions\";\nimport { changeUserName, changeLastName, changeEmail, changePuesto, usuarioId, actualizarUsuario, guardarUsuario } from \"../../redux/actions/usuarios.actions\";\nimport { userInitial } from \"../../redux/types/usuarios.type\";\nimport FormLogin from \"../Login/components/FormLogin\";\n\n\nconst ancho_col = '6';\nconst NuevoUsuario: React.FC = () => {\n    const { idUser } = useParams<{ idUser: string }>();\n    const history = useHistory();\n    // const { token='NA' } = useSelector((state: any) => state.sesion);\n    const dispatch = useDispatch();\n    const {\n        name= '',\n        lastName= '',\n        email= '',\n        puesto=''\n    }: userInitial = useSelector((state: any) => state.usurioSeleccionado);\n\n    const _initial = () => {\n        dispatch(defaultUserValues());\n        idUser && dispatch(usuarioId(idUser));\n        \n    }\n    useEffect(_initial, [idUser]);\n\n    const handleSave = (e: any) => {\n        e.preventDefault();\n        console.log(\n        name,\n        lastName,\n        email,\n        puesto\n        );\n        const resp = {\n            name,\n            lastname:lastName,\n            email,\n            puesto\n        }\n        dispatch(idUser ?\n            actualizarUsuario(idUser, resp, history.goBack) :\n            guardarUsuario(resp, history.goBack)\n        );\n    }\n\n    return <Container>\n        <Title name={`${idUser ?'Editar': 'Crear'}:`} />\n\n        <Form onSubmit={handleSave}>\n\n            <Row sm='12'>\n                <Col sm={ancho_col}>\n                    <FormLogin\n                        title='Nombre(s)'\n                        required={true}\n                        minLength={4}\n                        type='text'\n                        name='nombre'\n                        placeholder='Nombre(s)...'\n                        // size=\"sm\"\n                        value={name}\n                        onChange={(e:any) => dispatch(changeUserName(e.target.value))}\n                    />\n                </Col>\n                <Col sm={ancho_col}>\n                    <FormLogin\n                        title='Apeidos'\n                        required={true}\n                        minLength={4}\n                        type='text'\n                        name='apP'\n                        placeholder='Apeidos...'\n                        value={lastName}\n                        // size=\"sm\"\n                        onChange={(e:any) => dispatch(changeLastName(e.target.value))}\n                    />\n                </Col>\n\n                <Col sm={ancho_col}>\n                    <FormLogin\n                        title='Correo'\n                        required={true}\n                        minLength={8}\n                        type='email'\n                        name='user'\n                        placeholder='usuario@dominio.abc'\n                        value={email}\n                        // size=\"sm\"\n                        onChange={(e:any) => dispatch(changeEmail(e.target.value))}\n                    />\n                </Col>\n                <Col sm={ancho_col}>\n                    <Form.Group>\n                        <Form.Label>Puesto</Form.Label>\n                        <Form.Control\n                            as='select'\n                            value={puesto}\n                            required\n                            onChange={(e:any) => dispatch(changePuesto( e.target.value))}\n                        >\n                            <option value=''> -- </option>\n                            <option>Administrador</option>\n                            <option>Direccion</option>\n                            <option>Finanzas</option>\n                            <option>Recursos humanos</option>\n                            <option>Produccion</option>\n                            <option>Ventas</option>\n                            <option>Operaciones</option>\n                            <option>Logistica</option>\n                        </Form.Control>\n                    </Form.Group>\n                </Col>\n                <Col xs={ancho_col}>\n                    <Button  variant='light' block onClick={history.goBack} type='reset'> cancelar</Button>\n                </Col>\n                <Col xs={ancho_col}>\n                    <Button block type='submit'> {idUser?'ACTUALIZAR':'GUARDAR'}</Button>\n                </Col>\n            </Row>\n            \n        </Form>\n    </Container>\n} \n\nexport default NuevoUsuario;"]},"metadata":{},"sourceType":"module"}