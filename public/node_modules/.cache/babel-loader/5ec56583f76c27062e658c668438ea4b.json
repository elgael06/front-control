{"ast":null,"code":"import axios from 'axios';\nexport const login = async (username = '', password = '') => {\n  const token = Buffer.from(`${username}:${password}`, 'utf8').toString('base64');\n\n  try {\n    const {\n      data\n    } = await axios.post('/api/v1/sesion/login', {\n      email: username\n    }, {\n      headers: {\n        'Authorization': `Basic ${token}`\n      }\n    });\n    axios.defaults.headers.post['x-access-tokens'] = data.token;\n    axios.defaults.headers.get['x-access-tokens'] = data.token;\n    return data;\n  } catch (error) {\n    return {\n      message: error.toString(),\n      status: false,\n      sesion: null\n    };\n  }\n};","map":{"version":3,"sources":["/home/gael/development/base-back-end/frontend/src/api/login.ts"],"names":["axios","login","username","password","token","Buffer","from","toString","data","post","email","headers","defaults","get","error","message","status","sesion"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,KAAK,GAAG,OAAOC,QAAQ,GAAG,EAAlB,EAAsBC,QAAQ,GAAG,EAAjC,KAAwC;AACzD,QAAMC,KAAK,GAAGC,MAAM,CAACC,IAAP,CAAa,GAAEJ,QAAS,IAAGC,QAAS,EAApC,EAAuC,MAAvC,EAA+CI,QAA/C,CAAwD,QAAxD,CAAd;;AACA,MAAI;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMR,KAAK,CAACS,IAAN,CAAW,sBAAX,EACnB;AAAEC,MAAAA,KAAK,EAAER;AAAT,KADmB,EACE;AACrBS,MAAAA,OAAO,EAAE;AACL,yBAAkB,SAAQP,KAAM;AAD3B;AADY,KADF,CAAvB;AAMAJ,IAAAA,KAAK,CAACY,QAAN,CAAeD,OAAf,CAAuBF,IAAvB,CAA4B,iBAA5B,IAAiDD,IAAI,CAACJ,KAAtD;AACAJ,IAAAA,KAAK,CAACY,QAAN,CAAeD,OAAf,CAAuBE,GAAvB,CAA2B,iBAA3B,IAAgDL,IAAI,CAACJ,KAArD;AACA,WAAOI,IAAP;AACH,GAVD,CAUE,OAAMM,KAAN,EAAY;AACV,WAAO;AACHC,MAAAA,OAAO,EAAED,KAAK,CAACP,QAAN,EADN;AAEHS,MAAAA,MAAM,EAAE,KAFL;AAGHC,MAAAA,MAAM,EAAC;AAHJ,KAAP;AAKH;AACJ,CAnBM","sourcesContent":["import axios from 'axios';\n\nexport const login = async (username = '', password = '') => {\n    const token = Buffer.from(`${username}:${password}`, 'utf8').toString('base64');\n    try {\n        const { data } = await axios.post('/api/v1/sesion/login',\n            { email: username }, {\n            headers: {\n                'Authorization': `Basic ${token}`\n            },\n        });\n        axios.defaults.headers.post['x-access-tokens'] = data.token;\n        axios.defaults.headers.get['x-access-tokens'] = data.token;\n        return data;\n    } catch(error){\n        return {\n            message: error.toString(),\n            status: false,\n            sesion:null\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}