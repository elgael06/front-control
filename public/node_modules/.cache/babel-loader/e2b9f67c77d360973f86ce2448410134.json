{"ast":null,"code":"import _regeneratorRuntime from\"/home/gael/development/base-back-end/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/gael/development/base-back-end/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/gael/development/base-back-end/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{login}from\"../../api/login\";import{loaddingOff,loaddingOn,menssageOff,menssageOn}from\"./effects.actions\";export var chekSesion=function chekSesion(_ref){var _ref$email=_ref.email,email=_ref$email===void 0?'':_ref$email,_ref$password=_ref.password,password=_ref$password===void 0?'':_ref$password;return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(loaddingOn());_context.next=3;return login(email,password);case 3:data=_context.sent;dispatch(loaddingOff());dispatch(menssageOn({status:true,text:data.message,title:'',type:data.status?'info':'danger'}));setTimeout(function(){return dispatch(menssageOff());},2000);if(data.status&&data.active){dispatch({type:'ADD_SESION',value:_objectSpread(_objectSpread({},data.sesion),{},{status:data.status,token:data.token})});}else if(data.status&&!data.active){console.log('modal para activacion usuario...',data.info);dispatch({type:'ADD_INFO_USER_SESION',value:data.info});dispatch({type:'ON_MODAL'});}case 8:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}();};export var cerrarSecion=function cerrarSecion(){return function(dispatch){dispatch({type:'REMOVE_SESION'});};};","map":{"version":3,"sources":["/home/gael/development/base-back-end/frontend/src/redux/actions/sesion.actions.ts"],"names":["login","loaddingOff","loaddingOn","menssageOff","menssageOn","chekSesion","email","password","dispatch","data","status","text","message","title","type","setTimeout","active","value","sesion","token","console","log","info","cerrarSecion"],"mappings":"weAAA,OAASA,KAAT,KAAsB,iBAAtB,CACA,OAASC,WAAT,CAAsBC,UAAtB,CAAkCC,WAAlC,CAA+CC,UAA/C,KAAiE,mBAAjE,CAGA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAA6B,qBAA1BC,KAA0B,CAA1BA,KAA0B,qBAApB,EAAoB,+BAAjBC,QAAiB,CAAjBA,QAAiB,wBAAR,EAAQ,eACnD,gGAAO,iBAAOC,QAAP,2HACHA,QAAQ,CAACN,UAAU,EAAX,CAAR,CADG,sBAEgBF,CAAAA,KAAK,CAACM,KAAD,CAAQC,QAAR,CAFrB,QAEGE,IAFH,eAGHD,QAAQ,CAACP,WAAW,EAAZ,CAAR,CACAO,QAAQ,CAACJ,UAAU,CAAC,CAChBM,MAAM,CAAE,IADQ,CAEhBC,IAAI,CAAEF,IAAI,CAACG,OAFK,CAGhBC,KAAK,CAAE,EAHS,CAIhBC,IAAI,CAAEL,IAAI,CAACC,MAAL,CAAc,MAAd,CAAuB,QAJb,CAAD,CAAX,CAAR,CAMAK,UAAU,CAAC,iBAAIP,CAAAA,QAAQ,CAACL,WAAW,EAAZ,CAAZ,EAAD,CAA6B,IAA7B,CAAV,CACA,GAAIM,IAAI,CAACC,MAAL,EAAeD,IAAI,CAACO,MAAxB,CAAgC,CAC5BR,QAAQ,CAAC,CAAEM,IAAI,CAAE,YAAR,CAAsBG,KAAK,gCAAOR,IAAI,CAACS,MAAZ,MAAoBR,MAAM,CAAED,IAAI,CAACC,MAAjC,CAAyCS,KAAK,CAAEV,IAAI,CAACU,KAArD,EAA3B,CAAD,CAAR,CACH,CAFD,IAEO,IAAIV,IAAI,CAACC,MAAL,EAAe,CAACD,IAAI,CAACO,MAAzB,CAAiC,CACpCI,OAAO,CAACC,GAAR,CAAY,kCAAZ,CAA+CZ,IAAI,CAACa,IAApD,EACAd,QAAQ,CAAC,CAAEM,IAAI,CAAE,sBAAR,CAAgCG,KAAK,CAAER,IAAI,CAACa,IAA5C,CAAD,CAAR,CACAd,QAAQ,CAAC,CAAEM,IAAI,CAAE,UAAR,CAAD,CAAR,CACH,CAjBE,sDAAP,gEAmBH,CApBM,CAsBP,MAAO,IAAMS,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAE9B,MAAO,UAACf,QAAD,CAAwB,CAC3BA,QAAQ,CAAC,CAACM,IAAI,CAAC,eAAN,CAAD,CAAR,CACH,CAFD,CAGH,CALM","sourcesContent":["import { login } from \"../../api/login\";\nimport { loaddingOff, loaddingOn, menssageOff, menssageOn } from \"./effects.actions\"\n\n\nexport const chekSesion = ({ email='',password=''}) => {\n    return async (dispatch:Function) => {\n        dispatch(loaddingOn());\n        const data = await login(email, password);\n        dispatch(loaddingOff());\n        dispatch(menssageOn({\n            status: true,\n            text: data.message,\n            title: '',\n            type: data.status ? 'info' : 'danger'\n        }));\n        setTimeout(()=>dispatch(menssageOff()),2000);\n        if (data.status && data.active) {\n            dispatch({ type: 'ADD_SESION', value: { ...data.sesion, status: data.status, token: data.token } });\n        } else if (data.status && !data.active) {\n            console.log('modal para activacion usuario...',data.info);\n            dispatch({ type: 'ADD_INFO_USER_SESION', value: data.info });\n            dispatch({ type: 'ON_MODAL' });\n        }\n    }\n}\n\nexport const cerrarSecion = () => {\n    \n    return (dispatch: Function) => {\n        dispatch({type:'REMOVE_SESION'})\n    }\n}"]},"metadata":{},"sourceType":"module"}