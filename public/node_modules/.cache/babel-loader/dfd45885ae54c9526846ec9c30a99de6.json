{"ast":null,"code":"import _regeneratorRuntime from\"/home/gael/development/base-back-end/front-control/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/gael/development/base-back-end/front-control/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/gael/development/base-back-end/front-control/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{login}from\"../../api/login.api\";import{loaddingOff,loaddingOn,menssageOff,menssageOn,modalOn}from\"./effects.actions\";import types from'../types/sesion.type';import{addUserInfo}from\"./userInfo.actions\";export var chekSesion=function chekSesion(_ref){var _ref$email=_ref.email,email=_ref$email===void 0?'':_ref$email,_ref$password=_ref.password,password=_ref$password===void 0?'':_ref$password;return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(loaddingOn());_context.next=3;return login(email,password);case 3:data=_context.sent;dispatch(loaddingOff());dispatch(menssageOn({status:true,text:data.message,title:'',type:data.status?'info':'danger'}));setTimeout(function(){return dispatch(menssageOff());},2000);if(data.status&&data.active){dispatch({type:types.ADD_SESION,value:_objectSpread(_objectSpread({},data.sesion),{},{status:data.status,token:data.token})});}else if(data.status&&!data.active){console.log('modal para activacion usuario...',data.info);dispatch(addUserInfo(data.info));dispatch(modalOn());}case 8:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}();};export var cerrarSecion=function cerrarSecion(){return function(dispatch){dispatch({type:types.REMOVE_SESION});};};","map":{"version":3,"sources":["/home/gael/development/base-back-end/front-control/src/redux/actions/sesion.actions.ts"],"names":["login","loaddingOff","loaddingOn","menssageOff","menssageOn","modalOn","types","addUserInfo","chekSesion","email","password","dispatch","data","status","text","message","title","type","setTimeout","active","ADD_SESION","value","sesion","token","console","log","info","cerrarSecion","REMOVE_SESION"],"mappings":"ufAAA,OAASA,KAAT,KAAsB,qBAAtB,CACA,OAASC,WAAT,CAAsBC,UAAtB,CAAkCC,WAAlC,CAA+CC,UAA/C,CAA2DC,OAA3D,KAA0E,mBAA1E,CACA,MAAOC,CAAAA,KAAP,KAAkB,sBAAlB,CACA,OAASC,WAAT,KAA4B,oBAA5B,CAGA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAA6B,qBAA1BC,KAA0B,CAA1BA,KAA0B,qBAApB,EAAoB,+BAAjBC,QAAiB,CAAjBA,QAAiB,wBAAR,EAAQ,eACnD,gGAAO,iBAAOC,QAAP,2HACHA,QAAQ,CAACT,UAAU,EAAX,CAAR,CADG,sBAEgBF,CAAAA,KAAK,CAACS,KAAD,CAAQC,QAAR,CAFrB,QAEGE,IAFH,eAGHD,QAAQ,CAACV,WAAW,EAAZ,CAAR,CACAU,QAAQ,CAACP,UAAU,CAAC,CAChBS,MAAM,CAAE,IADQ,CAEhBC,IAAI,CAAEF,IAAI,CAACG,OAFK,CAGhBC,KAAK,CAAE,EAHS,CAIhBC,IAAI,CAAEL,IAAI,CAACC,MAAL,CAAc,MAAd,CAAuB,QAJb,CAAD,CAAX,CAAR,CAMAK,UAAU,CAAC,iBAAIP,CAAAA,QAAQ,CAACR,WAAW,EAAZ,CAAZ,EAAD,CAA6B,IAA7B,CAAV,CACA,GAAIS,IAAI,CAACC,MAAL,EAAeD,IAAI,CAACO,MAAxB,CAAgC,CAC5BR,QAAQ,CAAC,CAAEM,IAAI,CAAEX,KAAK,CAACc,UAAd,CAA0BC,KAAK,gCAAOT,IAAI,CAACU,MAAZ,MAAoBT,MAAM,CAAED,IAAI,CAACC,MAAjC,CAAyCU,KAAK,CAAEX,IAAI,CAACW,KAArD,EAA/B,CAAD,CAAR,CACH,CAFD,IAEO,IAAIX,IAAI,CAACC,MAAL,EAAe,CAACD,IAAI,CAACO,MAAzB,CAAiC,CACpCK,OAAO,CAACC,GAAR,CAAY,kCAAZ,CAA+Cb,IAAI,CAACc,IAApD,EACAf,QAAQ,CAACJ,WAAW,CAACK,IAAI,CAACc,IAAN,CAAZ,CAAR,CACAf,QAAQ,CAACN,OAAO,EAAR,CAAR,CACH,CAjBE,sDAAP,gEAmBH,CApBM,CAsBP,MAAO,IAAMsB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAE9B,MAAO,UAAChB,QAAD,CAAwB,CAC3BA,QAAQ,CAAC,CAAEM,IAAI,CAAEX,KAAK,CAACsB,aAAd,CAAD,CAAR,CACH,CAFD,CAGH,CALM","sourcesContent":["import { login } from \"../../api/login.api\";\nimport { loaddingOff, loaddingOn, menssageOff, menssageOn, modalOn } from \"./effects.actions\";\nimport types from '../types/sesion.type';\nimport { addUserInfo } from \"./userInfo.actions\";\n\n\nexport const chekSesion = ({ email='',password=''}) => {\n    return async (dispatch:Function) => {\n        dispatch(loaddingOn());\n        const data = await login(email, password);\n        dispatch(loaddingOff());\n        dispatch(menssageOn({\n            status: true,\n            text: data.message,\n            title: '',\n            type: data.status ? 'info' : 'danger'\n        }));\n        setTimeout(()=>dispatch(menssageOff()),2000);\n        if (data.status && data.active) {\n            dispatch({ type: types.ADD_SESION, value: { ...data.sesion, status: data.status, token: data.token } });\n        } else if (data.status && !data.active) {\n            console.log('modal para activacion usuario...',data.info);\n            dispatch(addUserInfo(data.info));\n            dispatch(modalOn());\n        }\n    }\n}\n\nexport const cerrarSecion = () => {\n    \n    return (dispatch: Function) => {\n        dispatch({ type: types.REMOVE_SESION });\n    }\n}"]},"metadata":{},"sourceType":"module"}