{"ast":null,"code":"import _regeneratorRuntime from\"/home/gael/development/base-back-end/front-control/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/gael/development/base-back-end/front-control/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{getAllUsers,getAUserId,insertUser,updatetUser}from\"../../api/users.api\";import{loaddingOff,loaddingOn,menssageOff,menssageOn}from\"./effects.actions\";import types from'../types/usuarios.type';export var optenerUsuarios=function optenerUsuarios(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var value;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(loaddingOn());dispatch({type:types.REMOVE_USUARIOS});_context.prev=2;_context.next=5;return getAllUsers();case 5:value=_context.sent;dispatch(menssageOn({status:true,text:\"Total \".concat(value.length,\" usuarios...\"),title:'',type:'info'}));dispatch({type:types.LISTA_USUARIOS,value:value});_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);dispatch(menssageOn({status:true,text:\"Error al descargar usuarios!!!\",title:'',type:'danger'}));case 13:setTimeout(function(){dispatch(menssageOff());},2000);dispatch(loaddingOff());case 15:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var usuarioId=function usuarioId(){var id=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var value;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch(loaddingOn());_context2.prev=1;_context2.next=4;return getAUserId(id);case 4:value=_context2.sent;console.log('usuario id: ',value);if(value){dispatch(menssageOn({status:true,text:\"usuario: \".concat(id,\"...\"),title:'',type:'info'}));dispatch({type:types.SELECTED_USER_ID,value:value});}else{dispatch(menssageOn({status:true,text:\"Error al descargar usuario!!!\",title:'',type:'danger'}));}_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);console.error(_context2.t0);case 12:setTimeout(function(){dispatch(menssageOff());},2000);dispatch(loaddingOff());case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[1,9]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var changeUserName=function changeUserName(value){return function(dispatch){dispatch({type:types.USER_NAME,value:value});};};export var changeLastName=function changeLastName(value){return function(dispatch){dispatch({type:types.USER_LAST_NAME,value:value});};};export var changeEmail=function changeEmail(value){return function(dispatch){dispatch({type:types.USER_EMAIL,value:value});};};export var changePuesto=function changePuesto(value){return function(dispatch){dispatch({type:types.USER_PUESTO,value:value});};};// GUARDAR\nexport var guardarUsuario=function guardarUsuario(user,callBack){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch(loaddingOn());_context3.next=3;return insertUser(user);case 3:data=_context3.sent;dispatch(menssageOn({status:true,text:data.message,title:'',type:data.status?'info':'danger'}));if(data.status){dispatch({type:types.DEFAULT_USER_ID});callBack();}dispatch(loaddingOff());setTimeout(function(){dispatch(menssageOff());},2000);case 8:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};// ACTUALIZAR\nexport var actualizarUsuario=function actualizarUsuario(id,user,callBack){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch(loaddingOn());_context4.next=3;return updatetUser(id,user);case 3:data=_context4.sent;dispatch(menssageOn({status:true,text:data.message,title:'',type:data.status?'info':'danger'}));if(data.status){dispatch({type:types.DEFAULT_USER_ID});callBack();}dispatch(loaddingOff());setTimeout(function(){dispatch(menssageOff());},2000);case 8:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}();};","map":{"version":3,"sources":["/home/gael/development/base-back-end/front-control/src/redux/actions/usuarios.actions.ts"],"names":["getAllUsers","getAUserId","insertUser","updatetUser","loaddingOff","loaddingOn","menssageOff","menssageOn","types","optenerUsuarios","dispatch","type","REMOVE_USUARIOS","value","status","text","length","title","LISTA_USUARIOS","setTimeout","usuarioId","id","console","log","SELECTED_USER_ID","error","changeUserName","USER_NAME","changeLastName","USER_LAST_NAME","changeEmail","USER_EMAIL","changePuesto","USER_PUESTO","guardarUsuario","user","callBack","data","message","DEFAULT_USER_ID","actualizarUsuario"],"mappings":"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","sourcesContent":["import { getAllUsers, getAUserId, insertUser, updatetUser } from \"../../api/users.api\"\nimport { loaddingOff, loaddingOn, menssageOff, menssageOn } from \"./effects.actions\";\nimport types from '../types/usuarios.type';\nimport userInitial from \"../../interface/userInitial.interface\";\n\n\nexport const optenerUsuarios = () => {\n    \n    return async (dispatch: Function) => {\n        dispatch(loaddingOn());\n        dispatch({ type: types.REMOVE_USUARIOS });\n        try {\n            const value = await getAllUsers();             \n            dispatch(menssageOn({\n                status: true,\n                text: `Total ${value.length} usuarios...`,\n                title: '',\n                type: 'info'\n            }));\n            dispatch({ type: types.LISTA_USUARIOS, value });\n        } catch(error) {\n            dispatch(menssageOn({\n                status: true,\n                text: `Error al descargar usuarios!!!`,\n                title: '',\n                type: 'danger'\n            }));\n        }\n        setTimeout(() => {        \n            dispatch(menssageOff());\n        },2000)\n        dispatch(loaddingOff());\n    }\n}\n\nexport const usuarioId = (id='') => {\n    return async (dispatch: Function) => {        \n        dispatch(loaddingOn());\n        try {\n            const value = await getAUserId(id);\n            console.log('usuario id: ',value);\n            \n            if (value) {\n                dispatch(menssageOn({\n                    status: true,\n                    text: `usuario: ${id}...`,\n                    title: '',\n                    type: 'info'\n                }));\n                dispatch({ type:types.SELECTED_USER_ID, value });\n            } else {\n                dispatch(menssageOn({\n                status: true,\n                text: `Error al descargar usuario!!!`,\n                title: '',\n                type: 'danger'\n            }));\n            }\n        } catch (err) {\n            console.error(err);        \n        }\n\n        setTimeout(() => {        \n            dispatch(menssageOff());\n        },2000)\n        dispatch(loaddingOff());\n    }\n}\n\nexport const changeUserName = (value: string) => {\n    \n    return (dispatch:Function) => {\n        dispatch({type: types.USER_NAME, value});\n    }\n}\nexport const changeLastName = (value: string) => {\n    return (dispatch:Function) => {\n        dispatch({type: types.USER_LAST_NAME, value});\n    }\n}\nexport const changeEmail = (value: string) => {\n    return (dispatch:Function) => {\n        dispatch({type: types.USER_EMAIL, value});\n    }\n}\nexport const changePuesto = (value: string) => {\n    return (dispatch:Function) => {\n        dispatch({type: types.USER_PUESTO, value});\n    }\n}\n\n// GUARDAR\nexport const guardarUsuario = (user:userInitial,callBack:Function) => {\n    return async (dispatch: Function) => {\n        dispatch(loaddingOn());\n        const data = await insertUser(user);\n\n        dispatch(menssageOn({\n                    status: true,\n                    text: data.message,\n                    title: '',\n                    type:  data.status ? 'info': 'danger'\n                }));\n        if (data.status) {\n            dispatch({ type: types.DEFAULT_USER_ID });\n            callBack();\n        }\n        dispatch(loaddingOff());\n        setTimeout(() => {        \n            dispatch(menssageOff());\n        },2000)\n    }\n}\n// ACTUALIZAR\nexport const actualizarUsuario = (id:string,user:userInitial,callBack:Function) => {\n    return async (dispatch: Function) => {\n        dispatch(loaddingOn());\n        const data = await updatetUser(id,user);\n\n        dispatch(menssageOn({\n                    status: true,\n                    text: data.message,\n                    title: '',\n                    type:  data.status ? 'info': 'danger'\n                }));\n        if (data.status) {\n            dispatch({ type: types.DEFAULT_USER_ID });\n            callBack();\n        }\n        dispatch(loaddingOff());\n        setTimeout(() => {        \n            dispatch(menssageOff());\n        },2000)\n    }\n}"]},"metadata":{},"sourceType":"module"}