{"ast":null,"code":"import axios from 'axios';\nexport const login = async (username = '', password = '') => {\n  const token = Buffer.from(`${username}:${password}`, 'utf8').toString('base64');\n\n  try {\n    const {\n      data,\n      status\n    } = await axios.post('/api/v1/sesion/login', {\n      email: username\n    }, {\n      headers: {\n        'Authorization': `Basic ${token}`\n      }\n    });\n\n    if (status == 200) {\n      axios.defaults.headers.post['x-access-tokens'] = data.token;\n      axios.defaults.headers.get['x-access-tokens'] = data.token;\n      axios.defaults.headers.put['x-access-tokens'] = data.token;\n      axios.defaults.headers.delete['x-access-tokens'] = data.token;\n    }\n\n    return { ...data,\n      status\n    };\n  } catch (error) {\n    return {\n      message: error.toString(),\n      status: false,\n      sesion: null\n    };\n  }\n};","map":{"version":3,"sources":["/home/gael/development/base-back-end/frontend/src/api/login.ts"],"names":["axios","login","username","password","token","Buffer","from","toString","data","status","post","email","headers","defaults","get","put","delete","error","message","sesion"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,KAAK,GAAG,OAAOC,QAAQ,GAAG,EAAlB,EAAsBC,QAAQ,GAAG,EAAjC,KAAwC;AACzD,QAAMC,KAAK,GAAGC,MAAM,CAACC,IAAP,CAAa,GAAEJ,QAAS,IAAGC,QAAS,EAApC,EAAuC,MAAvC,EAA+CI,QAA/C,CAAwD,QAAxD,CAAd;;AACA,MAAI;AACA,UAAM;AAAEC,MAAAA,IAAF;AAAOC,MAAAA;AAAP,QAAkB,MAAMT,KAAK,CAACU,IAAN,CAAW,sBAAX,EAC1B;AAAEC,MAAAA,KAAK,EAAET;AAAT,KAD0B,EACL;AACrBU,MAAAA,OAAO,EAAE;AACL,yBAAkB,SAAQR,KAAM;AAD3B;AADY,KADK,CAA9B;;AAMA,QAAIK,MAAM,IAAI,GAAd,EAAmB;AACfT,MAAAA,KAAK,CAACa,QAAN,CAAeD,OAAf,CAAuBF,IAAvB,CAA4B,iBAA5B,IAAiDF,IAAI,CAACJ,KAAtD;AACAJ,MAAAA,KAAK,CAACa,QAAN,CAAeD,OAAf,CAAuBE,GAAvB,CAA2B,iBAA3B,IAAgDN,IAAI,CAACJ,KAArD;AACAJ,MAAAA,KAAK,CAACa,QAAN,CAAeD,OAAf,CAAuBG,GAAvB,CAA2B,iBAA3B,IAAgDP,IAAI,CAACJ,KAArD;AACAJ,MAAAA,KAAK,CAACa,QAAN,CAAeD,OAAf,CAAuBI,MAAvB,CAA8B,iBAA9B,IAAmDR,IAAI,CAACJ,KAAxD;AACH;;AACD,WAAO,EAAC,GAAGI,IAAJ;AAASC,MAAAA;AAAT,KAAP;AACH,GAdD,CAcE,OAAMQ,KAAN,EAAY;AACV,WAAO;AACHC,MAAAA,OAAO,EAAED,KAAK,CAACV,QAAN,EADN;AAEHE,MAAAA,MAAM,EAAE,KAFL;AAGHU,MAAAA,MAAM,EAAC;AAHJ,KAAP;AAKH;AACJ,CAvBM","sourcesContent":["import axios from 'axios';\n\nexport const login = async (username = '', password = '') => {\n    const token = Buffer.from(`${username}:${password}`, 'utf8').toString('base64');\n    try {\n        const { data,status } = await axios.post('/api/v1/sesion/login',\n            { email: username }, {\n            headers: {\n                'Authorization': `Basic ${token}`\n            },\n        });\n        if (status == 200) {            \n            axios.defaults.headers.post['x-access-tokens'] = data.token;\n            axios.defaults.headers.get['x-access-tokens'] = data.token;\n            axios.defaults.headers.put['x-access-tokens'] = data.token;\n            axios.defaults.headers.delete['x-access-tokens'] = data.token;\n        }\n        return {...data,status};\n    } catch(error){\n        return {\n            message: error.toString(),\n            status: false,\n            sesion:null\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}