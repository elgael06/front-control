{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar BitArray_1 = require(\"../../../common/BitArray\");\n\nvar BitArrayBuilder =\n/** @class */\nfunction () {\n  function BitArrayBuilder() {}\n\n  BitArrayBuilder.buildBitArray = function (pairs) {\n    var charNumber = pairs.length * 2 - 1;\n\n    if (pairs[pairs.length - 1].getRightChar() == null) {\n      charNumber -= 1;\n    }\n\n    var size = 12 * charNumber;\n    var binary = new BitArray_1.default(size);\n    var accPos = 0;\n    var firstPair = pairs[0];\n    var firstValue = firstPair.getRightChar().getValue();\n\n    for (var i = 11; i >= 0; --i) {\n      if ((firstValue & 1 << i) != 0) {\n        binary.set(accPos);\n      }\n\n      accPos++;\n    }\n\n    for (var i = 1; i < pairs.length; ++i) {\n      var currentPair = pairs[i];\n      var leftValue = currentPair.getLeftChar().getValue();\n\n      for (var j = 11; j >= 0; --j) {\n        if ((leftValue & 1 << j) != 0) {\n          binary.set(accPos);\n        }\n\n        accPos++;\n      }\n\n      if (currentPair.getRightChar() != null) {\n        var rightValue = currentPair.getRightChar().getValue();\n\n        for (var j = 11; j >= 0; --j) {\n          if ((rightValue & 1 << j) != 0) {\n            binary.set(accPos);\n          }\n\n          accPos++;\n        }\n      }\n    }\n\n    return binary;\n  };\n\n  return BitArrayBuilder;\n}();\n\nexports.default = BitArrayBuilder;","map":{"version":3,"sources":["../../../../../src/core/oned/rss/expanded/BitArrayBuilder.ts"],"names":[],"mappings":";;;;;;AAAA,IAAA,UAAA,GAAA,OAAA,CAAA,0BAAA,CAAA;;AAEA,IAAA,eAAA;AAAA;AAAA,YAAA;AACE,WAAA,eAAA,GAAA,CACC;;AACO,EAAA,eAAA,CAAA,aAAA,GAAR,UAAsB,KAAtB,EAA+C;AAC7C,QAAI,UAAU,GAAW,KAAK,CAAC,MAAN,GAAe,CAAhB,GAAqB,CAA7C;;AACA,QAAI,KAAK,CAAC,KAAK,CAAC,MAAN,GAAe,CAAhB,CAAL,CAAwB,YAAxB,MAA0C,IAA9C,EAAoD;AAClD,MAAA,UAAU,IAAI,CAAd;AACD;;AAED,QAAI,IAAI,GAAU,KAAK,UAAvB;AAEA,QAAI,MAAM,GAAG,IAAI,UAAA,CAAA,OAAJ,CAAa,IAAb,CAAb;AACA,QAAI,MAAM,GAAG,CAAb;AAEA,QAAK,SAAS,GAAgB,KAAK,CAAC,CAAD,CAAnC;AACA,QAAK,UAAU,GAAG,SAAS,CAAC,YAAV,GAAyB,QAAzB,EAAlB;;AACA,SAAK,IAAI,CAAC,GAAG,EAAb,EAAiB,CAAC,IAAI,CAAtB,EAAyB,EAAE,CAA3B,EAA8B;AAC5B,UAAI,CAAC,UAAU,GAAI,KAAK,CAApB,KAA2B,CAA/B,EAAkC;AAChC,QAAA,MAAM,CAAC,GAAP,CAAW,MAAX;AACD;;AACD,MAAA,MAAM;AACP;;AAED,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,KAAK,CAAC,MAA1B,EAAkC,EAAE,CAApC,EAAuC;AACrC,UAAI,WAAW,GAAgB,KAAK,CAAC,CAAD,CAApC;AAEA,UAAI,SAAS,GAAG,WAAW,CAAC,WAAZ,GAA0B,QAA1B,EAAhB;;AACA,WAAK,IAAI,CAAC,GAAG,EAAb,EAAiB,CAAC,IAAI,CAAtB,EAAyB,EAAE,CAA3B,EAA8B;AAC5B,YAAI,CAAC,SAAS,GAAI,KAAK,CAAnB,KAA0B,CAA9B,EAAiC;AAC/B,UAAA,MAAM,CAAC,GAAP,CAAW,MAAX;AACD;;AACD,QAAA,MAAM;AACP;;AAED,UAAI,WAAW,CAAC,YAAZ,MAA8B,IAAlC,EAAwC;AACtC,YAAI,UAAU,GAAG,WAAW,CAAC,YAAZ,GAA2B,QAA3B,EAAjB;;AACA,aAAK,IAAI,CAAC,GAAG,EAAb,EAAiB,CAAC,IAAI,CAAtB,EAAyB,EAAE,CAA3B,EAA8B;AAC5B,cAAI,CAAC,UAAU,GAAI,KAAK,CAApB,KAA2B,CAA/B,EAAkC;AAChC,YAAA,MAAM,CAAC,GAAP,CAAW,MAAX;AACD;;AACD,UAAA,MAAM;AACP;AACF;AACF;;AACD,WAAO,MAAP;AACD,GA1CO;;AA4CV,SAAA,eAAA;AAAC,CA/CD,EAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BitArray_1 = require(\"../../../common/BitArray\");\nvar BitArrayBuilder = /** @class */ (function () {\n    function BitArrayBuilder() {\n    }\n    BitArrayBuilder.buildBitArray = function (pairs) {\n        var charNumber = (pairs.length * 2) - 1;\n        if (pairs[pairs.length - 1].getRightChar() == null) {\n            charNumber -= 1;\n        }\n        var size = 12 * charNumber;\n        var binary = new BitArray_1.default(size);\n        var accPos = 0;\n        var firstPair = pairs[0];\n        var firstValue = firstPair.getRightChar().getValue();\n        for (var i = 11; i >= 0; --i) {\n            if ((firstValue & (1 << i)) != 0) {\n                binary.set(accPos);\n            }\n            accPos++;\n        }\n        for (var i = 1; i < pairs.length; ++i) {\n            var currentPair = pairs[i];\n            var leftValue = currentPair.getLeftChar().getValue();\n            for (var j = 11; j >= 0; --j) {\n                if ((leftValue & (1 << j)) != 0) {\n                    binary.set(accPos);\n                }\n                accPos++;\n            }\n            if (currentPair.getRightChar() != null) {\n                var rightValue = currentPair.getRightChar().getValue();\n                for (var j = 11; j >= 0; --j) {\n                    if ((rightValue & (1 << j)) != 0) {\n                        binary.set(accPos);\n                    }\n                    accPos++;\n                }\n            }\n        }\n        return binary;\n    };\n    return BitArrayBuilder;\n}());\nexports.default = BitArrayBuilder;\n//# sourceMappingURL=BitArrayBuilder.js.map"]},"metadata":{},"sourceType":"script"}